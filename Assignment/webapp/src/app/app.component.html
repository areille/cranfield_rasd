<div>
  <h2>Simulation webapp</h2>
  <div>
    <h3>Please enter simulation parameters :</h3>
    <div>
      <label>Simulation duration (in weeks):</label>
      <input [(ngModel)]="simulationDuration" type="number" (input)="updateHpcRessources()">
    </div>
    <div>
      <h4>Student parameters :</h4>
      <div>
        <label>Number of students classes :</label>
        <input [(ngModel)]="nbClasses" type="number">
      </div>
      <div>
        <label>Number of students per class :</label>
        <input type="number" [(ngModel)]="nbStudentPerClass">
      </div>
      <div>
        <label>Max ressources per class (core/hour) :</label>
        <input type="number" [(ngModel)]="maxRessourcesPerClass">
      </div>
    </div>
    <div>
      <h4>HPC system parameters :</h4>
      <div>
        <label>Number of nodes :</label>
        <input [(ngModel)]="nbNode" type="number" (input)="updateHpcRessources()">
      </div>
      <div>
        <label>Number of cores by node :</label>
        <input [(ngModel)]="nbCorePerNode" type="number" (input)="updateHpcRessources()">
      </div>
      <div>
        <label>Total number of cores : </label>
        {{nbCoreTot}}
        <br/>
        <label>Number of cores dedicated to short jobs :</label>
        {{nbCoreS}}
        <br/>
        <label>Number of cores dedicated to medium jobs :</label>
        {{nbCoreM}}
        <br/>
        <label>Number of cores dedicated to large jobs :</label>
        {{nbCoreL}}
        <br/>
        <label>Number of core/hour :</label>
        {{nbCoreTotH}}
      </div>
    </div>
  </div>
  <button type="submit" (click)="launchSimulation();">Start simulation</button>
  <button type="submit" (click)="stopSimulation();">Stop simulation</button>

  <div>
    <h2>Simulation live data</h2>
    <label>Hours of simulation : </label>{{time}}<br/>

    Short jobs : {{rejectedSmallJobs.length}} rejected, {{queueSmall.length}}  queued, {{runningSmallJobs.length}} running, {{finishedSmallJobs.length}} finished.
    <br/>
    Medium jobs : {{rejectedMediumJobs.length}} rejected, {{queueMedium.length}} queued, {{runningMediumJobs.length}} running, {{finishedMediumJobs.length}} finished.
    <br/>
    Large jobs : {{rejectedLargeJobs.length}} rejected, {{queueLarge.length}} queued, {{runningLargeJobs.length}} running, {{finishedLargeJobs.length}} finished.
    <br/>
  </div>
  <button (click)="showSmallJobs = !showSmallJobs">Show rejected medium jobs</button>
  <div *ngIf="showSmallJobs">
    <div *ngFor="let job of rejectedMediumJobs">
      <label>job id : {{job.uuid}}</label><br/>
      <label>Log : "{{job.commentary}}"</label><br/>
    </div>
  </div>
</div>